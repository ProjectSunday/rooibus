<!DOCTYPE html>
<html>
<head>
	<title>rooibus gps testing</title>
    <link rel="manifest" href="manifest.json">
</head>
<style>
	#log {
		height: 200px;
		width: 100%;
		background: #eee;
	}
</style>
<body>
<textarea id="log"></textarea>
<script type="text/javascript">

	var log = document.getElementById('log')


	// var myWorker = new Worker('myworker.js')

	// var stuff = { foo: 'stuff' }

	// var data = {
	// 	update: update
	// }

	// myWorker.postMessage('blah')


	// myWorker.addEventListener('message', function () {

	// 	navigator.geolocation.getCurrentPosition(function (loc) { 

	// 		console.log('yoooo')

	// 		var now = new Date()

	// 		var msg = now.toString()

	// 		msg += ' accuracy: ' + loc.coords.accuracy
	// 		msg += ' longitude: ' + loc.coords.longitude
	// 		msg += ' latitude: ' + loc.coords.latitude


	// 		log.value = msg + '\n' + log.value

	// 		console.log('loc')

	// 	})


	// })



/*
latitude: coords.latitude,
longitude: coords.longitude,
lastUpdate: timestamp,
accuracy: Math.floor(coords.accuracy)

*/

	
	var log = document.getElementById('log')

	navigator.geolocation.watchPosition(function(loc) {

		var now = new Date()

		var msg = 'bbb' + now.toString()

		msg += ' accuracy: ' + loc.coords.accuracy
		msg += ' longitude: ' + loc.coords.longitude
		msg += ' latitude: ' + loc.coords.latitude


		log.value = msg + '\n' + log.value

	}, undefined, { enableHighAccuracy: true })



</script>
</body>
</html>